/**
 * This Software is the property of Data Development and is protected
 * by copyright law - it is NOT Freeware.
 * Any unauthorized use of this software without a valid license
 * is a violation of the license agreement and will be prosecuted by
 * civil and criminal law.
 * http://www.shopmodule.com
 * 
 * @license
 * @copyright (C) D3 Data Development (Inh. Thomas Dartsch)
 * @author    D3 Data Development - Daniel Seifert <support@shopmodule.com>
 * @link      http://www.oxidmodule.com
 */
$(function(){$.widget("ui.d3extsearchias",{options:{sElementId:"IAS_box",sInputElementId:"IAS_input",sCloseElementId:"IAS_closebtn",iPosOffset:10,sLastSelection:"",iDelay:600,oClearWnd:null},_create:function(){var a=this,b=(this.element,this.options);$("#"+b.sElementId).mouseup(function(a){a.stopPropagation()}),$("body").mouseup(function(b){a.checkIasWindow(b)}),$("#"+b.sCloseElementId).click(function(){a.clearIasWindow()})},showIasWindow:function(a){var b=this.options,c=$("#"+b.sElementId),d=$("#"+b.sInputElementId);if(c.length){var e=this.getSelection();e!==b.sLastSelection&&e.length>0&&(c.show().css({top:a.pageY+b.iPosOffset+"px",left:a.pageX+b.iPosOffset+"px"}),d.val(e),b.sLastSelection=e)}},checkIasWindow:function(a){this.getSelection()?this.showIasWindow(a):this.clearIasWindow()},clearIasWindow:function(){var a=this.options;$("#"+a.sElementId).hide(),a.sLastSelection=""},getSelection:function(){var a;return window.getSelection?a=window.getSelection():document.getSelection?a=document.getSelection():document.selection&&(a=document.selection.createRange().text),a.toString()}})}(jQuery));