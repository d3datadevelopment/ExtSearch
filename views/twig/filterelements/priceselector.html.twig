{% set currency = oView.getActCurrency() %}
<div class="item priceselector {{ cssclass }}">
    {% block d3_inc_ext_search__filter_pricefilter_title %}
        <label for="priceselector">
            {{ translate({ ident: "D3_EXTSEARCH_EXT_PRICECATS" }) }}:
        </label><br>
    {% endblock %}

    {% if oView.d3HasjQuerySlider() and oView.d3CanShowPriceFilterSlider() %}
        {% set random = random(1, 1000) %}
        {% set sliderIdDefault = "PriceFilter"|cat(random) %}
        {% set sliderId = sliderId|default(sliderIdDefault) %}
        {% include "@d3_extsearch/filterelements/jqslider.html.twig" with {sliderId: sliderId, formId: "d3searchfilterform", aPriceLimits: aPriceLimits, aPriceSteps: aPriceSteps, infoMinValue: infoMinValue, infoMaxValue: infoMaxValue, originalMinValue: originalMinValue, originalMaxValue: originalMaxValue, inputMinValue: inputMinValue, inputMaxValue: inputMaxValue, precision: precision} %}
    {% elseif not oView.d3HasjQuerySlider() %}
        {% block d3_inc_ext_search__filter_pricefilter_selector %}
            <SELECT class="form-select" id="priceselector" name="priceselector" onchange="d3_extsearch_popup.popup.load(); this.form.submit();">
                <OPTION value="{{ sSelectedPriceStep }}" class="desc" selected="selected">{{ translate({ ident: "D3_EXTSEARCH_EXT_CHOOSEPRICE" }) }}</OPTION>
                {% for price in oView.d3getPriceSteps() %}
                    <OPTION value="{{ price.addParam }}">{{ translate({ ident: "D3_EXTSEARCH_EXT_PRICEFROM" }) }} {{ price.iFMin }} {{ currency.sign }} {{ translate({ ident: "D3_EXTSEARCH_EXT_PRICETO" }) }} {{ price.iFMax }} {{ currency.sign }}
                        {% if not oModCfg_d3_extsearch.getValue('blExtSearch_dontShowFilterArticleCount') and price.iCount != '' %}
                            ({{ price.iCount }})
                        {% endif %}
                    </OPTION>
                {% endfor %}
                {% if sSelectedPriceStep %}
                    <OPTION value="" class="desc">{{ translate({ ident: "D3_EXTSEARCH_EXT_DESELECTPRICE" }) }}</OPTION>
                {% endif %}
            </SELECT>
        {% endblock %}
    {% endif %}
    
    <noscript>
        <div id="searchmanufacturersubmit" class="fullitem">
            <button type="submit" class="submitButton largeButton btn {% if oModCfg_d3_extsearch.isThemeIdMappedTo('wave') %}btn-outline-primary {# for Bootstrap 4 #}{% endif %} btn-sm" onclick="d3_extsearch_popup.popup.load();">{{ translate({ ident: "D3_EXTSEARCH_EXT_ASSIGNFILTER" }) }}</button>
        </div>
    </noscript>
</div>